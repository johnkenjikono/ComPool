# ğŸ† ComPool - Pool Money and Compete!

ComPool is a mobile and web application that allows users to create and manage pooled money groups with friends.

---

## ğŸ“‚ Project Overview
- This project is **HW #3** (mobile frontend connected to the backend).
- Web frontend and backend are continued from **HW #2**, located in the same repo.

---

## ğŸš€ Setting Up the Project

### ğŸ”¹ 1ï¸âƒ£ Prerequisites
Make sure the following tools are installed:
- **XAMPP** (for running PHP and MySQL)
- **Node.js** and **npm**
- **Expo**
- **Android Studio** (for emulator) or a physical Android/iOS device

---

### ğŸ”¹ 2ï¸âƒ£ Backend Setup (database same as HW2)

#### ğŸ“ Database Creation in phpMyAdmin
- Start **XAMPP**, ensure **Apache** and **MySQL** are running
- Open `http://localhost/phpmyadmin/`

#### ğŸ›  Create Database and Tables
```sql
CREATE DATABASE IF NOT EXISTS `app-db`;
USE `app-db`;

CREATE TABLE IF NOT EXISTS users (
    username VARCHAR(50) PRIMARY KEY,
    password VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS groups (
    id INT AUTO_INCREMENT PRIMARY KEY,
    group_name VARCHAR(100) NOT NULL,
    username VARCHAR(50) NOT NULL,
    group_size INT NOT NULL CHECK (group_size > 0),
    members TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (username) REFERENCES users(username) ON DELETE CASCADE
);
```


#### ğŸ§© Backend code:
The folder RestAPI has all files for the backend code

#### ğŸ“ Place REST API in HTDOCS

1. Locate the `RestAPI/` folder in this repository.

2. Copy the **entire contents** of the `RestAPI/` folder into your `htdocs/` folder inside your local XAMPP directory.

```
C:/xampp/htdocs/
```

The final structure should look like:

```
htdocs/
â”œâ”€â”€ Controller/Api/
â”‚   â”œâ”€â”€ BaseController.php
â”‚   â””â”€â”€ GroupController.php
â”‚   â””â”€â”€ UserController.php
â”‚â”€â”€ Model/
â”‚   â”œâ”€â”€ Database.php
â”‚   â”œâ”€â”€ GroupModel.php
â”‚   â””â”€â”€ UserModel.php
â”œâ”€â”€ index.php
â”œâ”€â”€ inc/
â”‚   â”œâ”€â”€ bootstrap.php
â”‚   â””â”€â”€  config.php
```

inc/config.php has your connection to the database locally change it accordingly
```
<?php
define("DB_HOST", "localhost");
define("DB_USERNAME", "root");
define("DB_PASSWORD", "");
define("DB_DATABASE_NAME", "app-db");
```

## ğŸ” REST API Overview

All backend endpoints are available locally via:
```
http://<YOUR-IP>/index.php/
```

âœ… **Update `config.js` in the project to your real IP address.**
```
// config.js
export const BASE_URL = 'http://yourIPaddress/index.php';
```
---

## ğŸ“± Running the Mobile App
Open Andorid studio and Open our project Compool wherever you downloaded it
Start your android device

Open terminal and
cd into my-app from Compool
```
cd my-app
```
run:
```
npm install
npm run android
```

And you should see Compool running on your virtual device!
---


### ğŸ“„ Rest API Endpoints Used
- `POST /user/create` â€” Register new user
- `GET /user/list?username=...` â€” Check if user exists
- `POST /group/create` â€” Create group
- `GET /group/list` â€” Get all groups
- `DELETE /group/delete?id=...` â€” Delete group
- `PUT /group/update?id=...` â€” Update group

ğŸ“Œ **All data is JSON encoded.**

---

## ğŸ§ª Postman Screenshots
Screenshots provided for:
- GET
- POST

### Pierce
![Pierce](images/PiercePostman1.png)
![Pierce](images/PiercePostman2.png)
### Cory
![Cory](images/CoryPostman1.png)
![Cory](images/CoryPostman2.png)
### Kenji
![Kenji](images/KenjiPostman1.png)
![Kenji](images/KenjiPostman2.png)

---

## âœ… Features Summary

### ğŸ” User Authentication
- Login and Registration
- Passwords hashed (PHP backend)
- Re-entry confirmation on registration
- Duplicate username protection

### ğŸ‘¥ Group Management (CRUD)
- View all groups
- Create new groups
- Edit group (only if creator)
- Delete group (only if creator)

### ğŸ§  Validations
- Group size must be a positive integer
- Group creator is auto-included
- Cannot select more members than group size
- Password must be â‰¥ 10 characters

### ğŸ§  Persistent Login
- AsyncStorage keeps user logged in
- Auto-login on app restart
- Logout clears session

---

## ğŸ“ File Organization
```
my-app/
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ HomeScreen.js
â”‚   â”œâ”€â”€ AboutScreen.js
â”‚   â”œâ”€â”€ LoginScreen.js
â”‚   â”œâ”€â”€ RegisterScreen.js
â”‚   â”œâ”€â”€ GroupScreen.js
â”‚   â””â”€â”€ CreateGroupScreen.js
â”œâ”€â”€ api/
â”‚   â””â”€â”€ userApi.js
â”‚   
â”œâ”€â”€ styles.js
â”œâ”€â”€ config.js
â”œâ”€â”€ App.js
```

---

Split: 36/32/32
(Pierce/Cory/Kenji)


[//]: # (Used Chatgpt to adhere to general design principals and best practices (specifically helped a lot with fixing our sql queries so that they were parameterized), as well as some other fixes (beautifying the README) and optimizations.)
